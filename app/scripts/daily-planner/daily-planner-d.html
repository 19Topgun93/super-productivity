<div class="daily-planner">
  <h1 class="md-headline">Plan your day!</h1>
  <div class="input">
    <div class="info">
      <p>If you're done, you should spend some time
        <strong>prioritizing</strong> your tasks, by ordering them via drag and drop. You can also make a rough time estimation.
      </p>

    </div>
    <form ng-submit="vm.addTask()">
      <!--<md-input-container class="md-block md-icon-float">-->
        <!--<ng-md-icon icon="mode_edit"></ng-md-icon>-->

        <!--<label>Enter a task and press enter to add</label>-->
        <!--<input class="text-input"-->
               <!--tabindex="1"-->
               <!--autofocus-->
               <!--ng-model="vm.newTask">-->

      <!--</md-input-container>-->
      <!---->
      <md-autocomplete
        md-selected-item="vm.newTask"
        md-search-text="vm.searchText"
        md-items="task in vm.taskSuggestions"
        md-item-text="task.title"
        md-min-length="0"
        md-autofocus
        placeholder="Select a task to start with">
        <md-item-template>
          <span md-highlight-text="vm.searchText"
                md-highlight-flags="^i">{{task.title}}</span>
        </md-item-template>
        <md-not-found>
          No states matching "{{vm.searchText}}" were found.
          <a ng-click="vm.newState(vm.searchText)">Create a new one!</a>
        </md-not-found>
      </md-autocomplete>
    </form>

    <div class="done"
         ng-show="vm.tasks.length >0"
         layout="row"
         layout-sm="column"
         layout-align="center center">
      <md-button class="md-raised md-primary"
                 ng-click="vm.done()">All done! Let's get to work!
      </md-button>
    </div>

    <h2 class="md-title">Tasks for today (estimated: ~{{ vm.totaleEstimate|duration}} )</h2>

    <task-list tasks="vm.tasks"
               current-task="vm.currentTask"></task-list>

    <h2 class="md-title">Tasks Backlog (for some other time; estimated: ~{{ vm.totaleEstimateBacklog|duration}} )</h2>
    <task-list tasks="vm.backlogTasks"
               limit-to="{{vm.limitBacklogTo}}"></task-list>


    <md-button class="md-primary"
               ng-click="vm.limitBacklogTo = false"
               ng-hide="vm.limitBacklogTo === false || vm.backlogTasks.length <=vm.limitBacklogTo ||vm.backlogTasks.length ===0">Show All {{ vm.backlogTasks.length }} items in Backlog
    </md-button>
  </div>
</div>

