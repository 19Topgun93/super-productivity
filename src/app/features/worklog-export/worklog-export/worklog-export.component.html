<div class="dialog-content"
     mat-dialog-content="">

  <!--<textarea [(ngModel)]="tasksTxt"-->
  <!--[hidden]="!isShowAsText"-->
  <!--class="simple-textarea mat-elevation-z2"-->
  <!--id="task-textarea"-->
  <!--name="tasksTxt"-->
  <!--rows="10"-->
  <!--tabindex="-1"></textarea>-->

  <div *ngIf="!isShowAsText"
       class="table-wrapper material-table">
    <table>
      <tr>
        <th *ngFor="let headlineCol of headlineCols;">{{headlineCol}}</th>
      </tr>
      <tr *ngFor="let row of formattedRows;">
        <td *ngFor="let col of row">{{col}}</td>
      </tr>
    </table>
  </div>


  <section class="options">
    <div class="row">
      <div class="col">
        <div>
          <mat-slide-toggle (change)="onOptionsChange()"
                            [(ngModel)]="isShowAsText"
                            aria-label="Show as text"
                            name="isShowAsText">
            Show as text
          </mat-slide-toggle>
        </div>
        <div>
          <mat-slide-toggle (change)="onOptionsChange()"
                            [(ngModel)]="options.isListSubTasks"
                            aria-label="List sub tasks"
                            name="isListSubTasks">
            List sub tasks
          </mat-slide-toggle>
        </div>

        <div *ngIf="!isWorklogExport">
          <mat-slide-toggle (change)="onOptionsChange()"
                            [(ngModel)]="options.isWorkedOnTodayOnly"
                            aria-label="List worked on today tasks only"
                            name="isWorkedOnTodayOnly">
            List worked on today tasks only
          </mat-slide-toggle>
        </div>
        <div *ngIf="!isWorklogExport">
          <mat-slide-toggle (change)="onOptionsChange()"
                            [(ngModel)]="options.isListDoneOnly"
                            aria-label="List done tasks only"
                            name="isListDoneOnly">
            List done tasks only
          </mat-slide-toggle>
        </div>
      </div>
      <div class="col">
        <mat-form-field *ngIf="(isWorklogExport)"
                        class="md-block">
          <label>Separate tasks by</label>
          <input (change)="onOptionsChange()"
                 [(ngModel)]="options.separateTasksBy"
                 matInput=""
                 name="separateTasksBy"
                 type="text">
        </mat-form-field>

        <mat-form-field>
          <label>Round time worked to</label>
          <mat-select (selectionChange)="onOptionsChange()"
                      [(ngModel)]="options.roundWorkTimeTo">
            <mat-option><em>don't round</em></mat-option>
            <mat-option *ngFor="let roundOption of roundTimeOptions"
                        [value]="roundOption.id">
              {{roundOption.title}}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
  </section>
</div>


<div mat-dialog-actions=""
     align="center">
  <a mat-raised-button=""
     color="primary"
     [simpleDownload]="fileName"
     [simpleDownloadData]="tasksTxt">
    <mat-icon>file_download</mat-icon>
    Save to file
  </a>
  <button mat-raised-button=""
          *ngIf="isShowClose"
          (click)="onCancelClick()"
          type="button">
    <mat-icon>close</mat-icon>
    Close
  </button>
</div>
