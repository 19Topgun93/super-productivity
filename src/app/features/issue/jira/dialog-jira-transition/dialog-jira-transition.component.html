<h1 mat-dialog-title>
  <mat-icon svgIcon="jira"
            class="dialog-header-icon"></mat-icon>
  <span>Update Status on Jira</span>
</h1>

<mat-dialog-content>
  <table>
    <tr>
      <th>Current Status:</th>
      <td>{{data.issue?.status ? data.issue?.status?.name : '–'}}</td>
    </tr>
    <tr>
      <th>Current Assignee:</th>
      <td>{{data.issue?.assignee ? data.issue?.assignee?.displayName : '–'}}</td>
    </tr>
  </table>

  <mat-form-field>
    <label>Choose status to assign</label>
    <mat-select [(ngModel)]="chosenTransition">
      <!--<mat-option value="DO_NOT">Don't transition</mat-option>-->
      <!--<mat-option value="ALWAYS_ASK">Always open dialog</mat-option>-->
      <mat-option *ngFor="let transition of (availableTransitions$|async)"
                  [value]="transition">
        <!--<img [src]="transition.to.iconUrl">-->
        {{transition.name}}
      </mat-option>
    </mat-select>
  </mat-form-field>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <div class="wrap-buttons">
    <button type="button"
            color="primary"
            (click)="close()"
            class="btn btn-primary submit-button"
            mat-button>Cancel
    </button>
    <button color="primary"
            (click)="transitionIssue()"
            class="btn btn-primary submit-button"
            mat-stroked-button>Update Status
    </button>
  </div>
</mat-dialog-actions>
