<form (submit)="save()"
      class="dialog-help-wrapper">
  <h1 mat-dialog-title>{{isEdit ? 'Edit Repeat Task Config' : 'Add Repeat Task Config'}}</h1>

  <mat-dialog-content>
    <!--    <h3 class="mat-h3">{{task.title}}</h3>-->
    <help-section>
      <p>Repeating tasks are meant for daily chores, e.g.: "Organization", "Daily Meeting", "Code Review", "Checking
        emails" or similar tasks which are likely to occur again and again.</p>
      <p>Once configured a repeating task will be recreated on every day selected below as soon as you open your project
        and will be automatically marked as completed at the end of the day. They will be handled as different
        instances. So you can freely add sub tasks etc.</p>
      <p>Tasks imported from Jira or Git Issues cannot be repeated. All reminders will also be deleted on a repeating
        task.</p>
    </help-section>

    <div class="form-wrapper">
      <formly-form (modelChange)="taskRepeatCfg=$event"
                   [fields]="fields"
                   [form]="form"
                   [model]="taskRepeatCfg"
                   [options]="options">
      </formly-form>
    </div>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button (click)="close()"
            color="primary"
            mat-button
            type="button">
      Cancel
    </button>

    <button (click)="remove()"
            *ngIf="isEdit"
            color="primary"
            mat-stroked-button
            type="button">
      <mat-icon>delete_forever</mat-icon>
      Remove
    </button>

    <button [disabled]="!form.valid"
            color="primary"
            mat-stroked-button
            type="submit">
      <mat-icon>save</mat-icon>
      Save
    </button>
  </mat-dialog-actions>
</form>
