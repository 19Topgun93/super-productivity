<div class="wrapper mat-elevation-z2">
  <help-section>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. A aliquam animi error fuga maxime nihil, officia
      possimus qui quis, quisquam reprehenderit rerum saepe sint temporibus voluptas! Ipsum itaque provident ullam?</p>

    <h3 class="mat-h3">Why should I care</h3>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Accusantium consectetur inventore maiores non quo
      reiciendis reprehenderit saepe, vero. Adipisci aliquid animi dolorum eligendi error fugit id itaque libero, modi
      perferendis quia, quod saepe sequi similique sint sunt suscipit vitae voluptates!</p>
  </help-section>

  <form (submit)="submit()">
    <mat-form-field>
      <input [(ngModel)]="metricForDay.mood"
             matInput
             max="10"
             min="1"
             name="mood"
             placeholder="How do you feel?"
             type="number">
      <mat-hint>1: Super bad – 10: Wonderful</mat-hint>
    </mat-form-field>

    <mat-form-field>
      <input [(ngModel)]="metricForDay.efficiency"
             matInput
             max="10"
             min="1"
             name="efficiency"
             placeholder="How efficient did you work today?"
             type="number">
      <mat-hint>1: Enormously efficient– 10: Got done nothing</mat-hint>
    </mat-form-field>

    <chip-list-input label="X What hindered your productivity today?"
                     [model]="metricForDay.obstructingFactors"
                     [suggestions]="obstructionSuggestions"
                     (addItem)="addObstruction($event)"
                     (addNewItem)="addNewObstruction($event)"
                     (removeItem)="removeObstruction($event)"></chip-list-input>

    <!--    <mat-form-field>-->
    <!--      <mat-chip-list #chipListObstructions>-->
    <!--        <mat-chip-->
    <!--          (removed)="remove( obstructingFactor)"-->
    <!--          *ngFor="let  obstructingFactor of metrics.obstructingFactors"-->
    <!--          [removable]="true">-->
    <!--          {{ obstructingFactor}}-->
    <!--          <mat-icon matChipRemove>cancel</mat-icon>-->
    <!--        </mat-chip>-->

    <!--        <input-->
    <!--          #fruitInput-->
    <!--          (matChipInputTokenEnd)="add($event)"-->
    <!--          [formControl]="fruitCtrl"-->
    <!--          [matAutocomplete]="auto"-->
    <!--          [matChipInputAddOnBlur]="true"-->
    <!--          [matChipInputFor]="chipListObstructions"-->
    <!--          [matChipInputSeparatorKeyCodes]="separatorKeysCodes"-->
    <!--          placeholder="What hindered your productivity today?">-->
    <!--      </mat-chip-list>-->
    <!--      <mat-autocomplete #auto="matAutocomplete"-->
    <!--                        (optionSelected)="selected($event)">-->
    <!--        <mat-option *ngFor="let fruit of filteredFruits | async"-->
    <!--                    [value]="fruit">-->
    <!--          {{fruit}}-->
    <!--        </mat-option>-->
    <!--      </mat-autocomplete>-->
    <!--    </mat-form-field>-->

    <mat-form-field>
      <mat-chip-list #chipListImprovingFactors>
        <mat-chip
          (removed)="remove(improvingFactor)"
          *ngFor="let improvingFactor of metricForDay.improvingFactors"
          [removable]="true">
          {{improvingFactor}}
          <mat-icon matChipRemove>cancel</mat-icon>
        </mat-chip>
        <input
          #fruitInput
          (matChipInputTokenEnd)="add($event)"
          [formControl]="fruitCtrl"
          [matAutocomplete]="auto"
          [matChipInputAddOnBlur]="true"
          [matChipInputFor]="chipListImprovingFactors"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
          placeholder="What improved your productivity today?">
      </mat-chip-list>
      <mat-autocomplete #auto="matAutocomplete"
                        (optionSelected)="selected($event)">
        <mat-option *ngFor="let fruit of filteredFruits | async"
                    [value]="fruit">
          {{fruit}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>


    <!-- same model as other improvements -->
    <mat-form-field>
      <mat-chip-list #chipListImprovingFactorsForTomorrow>
        <mat-chip
          (removed)="remove(improvingFactor)"
          *ngFor="let improvingFactor of metricForDay.improvingFactorsForTomorrow"
          [removable]="true">
          {{improvingFactor}}
          <mat-icon matChipRemove>cancel</mat-icon>
        </mat-chip>
        <input
          #fruitInput
          (matChipInputTokenEnd)="add($event)"
          [formControl]="fruitCtrl"
          [matAutocomplete]="auto"
          [matChipInputAddOnBlur]="true"
          [matChipInputFor]="chipListImprovingFactorsForTomorrow"
          [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
          placeholder="What could you do to improve tomorrow?">
      </mat-chip-list>
      <mat-autocomplete #auto="matAutocomplete"
                        (optionSelected)="selected($event)">
        <mat-option *ngFor="let fruit of filteredFruits | async"
                    [value]="fruit">
          {{fruit}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>

    <div style="text-align: center;">
      <button color="primary"
              mat-raised-button
              type="submit">
        <mat-icon>save</mat-icon>
        Save
      </button>
    </div>
  </form>


  <!--  <collapsible class="help-collapsible"-->
  <!--               title="Why should I care?">-->
  <!--  </collapsible>-->
</div>
