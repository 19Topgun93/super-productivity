<!--<h2 mat-dialog-title>You have </h2>-->


<form (submit)="track()">
  <div class="dialog-content"
       mat-dialog-content>
    <p>You have been idle for <strong>{{data.idleTime$|async|msToString:true}}</strong>.</p>

    <select-task [initialTask]="selectedTask"
                 (taskChange)="onTaskChange($event)"></select-task>
    <!--<p>Select the task you want to track the time for, or just press cancel if you don't want to track the time.</p>-->
  </div>


  <p>
    <span *ngIf="!isCreate">Track to:</span>
    <span *ngIf="isCreate">Create and track to:</span>
    <br><strong>{{selectedTask?.title || newTaskTitle || 'No task selected'}} </strong>
  </p>

  <div mat-dialog-actions
       align="end">
    <button mat-raised-button
            type="submit"
            color="primary">
      <mat-icon *ngIf="!isCreate">track_changes</mat-icon>
      <mat-icon *ngIf="isCreate">add</mat-icon>
      Track time
    </button>

    <!--<button mat-raised-button-->
    <!--type="button"-->
    <!--(click)="trackButResetBreakTimer()"-->
    <!--color="primary">-->
    <!--<mat-icon>timer</mat-icon>-->
    <!--Track but reset break timer-->
    <!--</button>-->

    <button mat-raised-button
            (click)="close()"
            type="button">
      <mat-icon>close</mat-icon>
      Don't track
    </button>
  </div>
</form>
