<div class="note"
     [class.isFocused]="isFocus">
  <div class="content">
    <inline-markdown #markdownEl
                     (onChanged)="updateContent($event)"
                     (focus)="isFocus=true"
                     (blur)="isFocus=false"
                     [isFocus]="isFocus"
                     [isLock]="note.isLock"
                     [model]="note.content"></inline-markdown>
  </div>

  <div class="controls">
    <button mat-icon-button=""
            [matMenuTriggerFor]="menu">
      <mat-icon>more</mat-icon>
    </button>

    <mat-menu #menu="matMenu">
      <button mat-menu-item>
        <mat-icon>schedule</mat-icon>
        Add reminder (not implemented)
      </button>
      <button mat-menu-item
              (click)="toggleLock()">
        <mat-icon *ngIf="note.isLock">lock</mat-icon>
        <mat-icon *ngIf="!note.isLock">lock_open</mat-icon>
        {{note.isLock? 'Enable markdown parse ' : 'Disable markdown parsing'}}
      </button>
      <button mat-menu-item
              (click)="removeNote()">
        <mat-icon style="color:#e15d63;">delete_forever</mat-icon>
        Delete
      </button>
    </mat-menu>
  </div>
</div>